<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
	"-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.uce.suc.common.dao.INoticeDao">
	
	<sql id="Base_Column_List">
			id,news_title,news_content,phone,
			news_type,news_grade,platform,read_true,
			status,top_true,new_user,
			utf1,utf2,utf3,
			remark,version,delete_flag,
			create_emp,create_org,update_emp,
			update_org,update_time,create_time,send_true
			
	</sql>
	
	<sql id="Base_Column_Where">
	<where>
	    <if test="id != null">
		and id = #{id}
		</if>
		<if test="newsTitle !=null and newsTitle !=''">
			and news_title =#{newsTitle}
		</if>
	    <if test="newsContent != null">
		and news_content = #{newsContent}
		</if>
	    <if test="phone != null">
		and phone = #{phone}
		</if>
	    <if test="newsType != null">
		and news_type = #{newsType}
		</if>
	    <if test="newsGrade != null and newsGrade!=''">
		and news_grade = #{newsGrade}
		</if>
	    <if test="platform != null">
		and platform = #{platform}
		</if>
	    <if test="readTrue != null">
		and read_true = #{readTrue}
		</if>
		<if test="status != null">
		and status = #{status}
		</if>
	    <if test="topTrue != null">
		and top_true = #{topTrue}
		</if>
	    <if test="newUser != null">
		and new_user = #{newUser}
		</if>
	    <if test="utf1 != null">
		and utf1 = #{utf1}
		</if>
	    <if test="utf2 != null">
		and utf2 = #{utf2}
		</if>
	    <if test="utf3 != null">
		and utf3 = #{utf3}
		</if>
	    <if test="remark != null">
		and remark = #{remark}
		</if>
	    <if test="version != null">
		and version = #{version}
		</if>
	    <if test="deleteFlag != null">
		and delete_flag = #{deleteFlag}
		</if>
	    <if test="createEmp != null">
		and create_emp = #{createEmp}
		</if>
	    <if test="createOrg != null">
		and create_org = #{createOrg}
		</if>
	    <if test="updateEmp != null">
		and update_emp = #{updateEmp}
		</if>
	    <if test="updateOrg != null">
		and update_org = #{updateOrg}
		</if>
	    <if test="updateTime != null">
		and update_time = #{updateTime}
		</if>
	    <if test="createTime != null">
		and create_time = #{createTime}
		</if>
		<if test="sendTrue != null">
		and send_true =#{sendTrue}
		</if>
	    
	</where>
	</sql>
	
	<update id="updateById" parameterType="cn.uce.suc.common.entity.Notice">
	UPDATE t_suc_comm_notice
	<set>
		<if test="status != null and status != ''">
			status =#{status},
		</if>
		<if test="newsTitle != null and newsTitle !=''">
			news_title =#{newsTitle},
		</if>
		<if test="newsContent != null">
		news_content = #{newsContent},
		</if>
		<if test="phone != null">
		phone = #{phone},
		</if>
		<if test="newsType != null">
		news_type = #{newsType},
		</if>
		<if test="newsGrade != null">
		news_grade = #{newsGrade},
		</if>
		<if test="platform != null">
		platform = #{platform},
		</if>
		<if test="readTrue != null">
		read_true = #{readTrue},
		</if>
		<if test="topTrue != null">
		top_true = #{topTrue},
		</if>
		<if test="newUser != null">
		new_user = #{newUser},
		</if>
		<if test="utf1 != null">
		utf1 = #{utf1},
		</if>
		<if test="utf2 != null">
		utf2 = #{utf2},
		</if>
		<if test="utf3 != null">
		utf3 = #{utf3},
		</if>
		<if test="remark != null">
		remark = #{remark},
		</if>
		<if test="version != null">
		version = #{version},
		</if>
		<if test="deleteFlag != null">
		delete_flag = #{deleteFlag},
		</if>
		<if test="createEmp != null">
		create_emp = #{createEmp},
		</if>
		<if test="createOrg != null">
		create_org = #{createOrg},
		</if>
		<if test="updateEmp != null">
		update_emp = #{updateEmp},
		</if>
		<if test="updateOrg != null">
		update_org = #{updateOrg},
		</if>
		<if test="updateTime != null">
		update_time = #{updateTime},
		</if>
		<if test="createTime != null">
		create_time = #{createTime},
		</if>
		<if test="sendTrue != null">
		send_true =#{sendTrue}
		</if>
		
	</set>
	WHERE id = #{id}
	</update>
	
	<select id="findByPagination" parameterType="cn.uce.suc.common.vo.NoticeVo" resultType="cn.uce.suc.common.entity.Notice">
	select <include refid="Base_Column_List" /> from t_suc_comm_notice
	<where>
	    <if test="platform != null and platform != ''">
		and platform = #{platform}
		</if>
	    <if test="deleteFlag != null">
		and delete_flag = #{deleteFlag}
		</if>
		<if test="status !=null and status !=''">
		and status =#{status}
		</if>
		<if test="createTime != null and updateTime != null">
			and create_time between #{createTime} and #{updateTime}
		</if>
		<if test="createTime !=null and updateTime == null">
			and create_time <![CDATA[   >=  ]]> #{createTime}
		</if>
		<if test="createTime == null and updateTime != null">
			and create_time <![CDATA[   <  ]]> #{updateTime}
		</if>
		<if test="sendTrue != null">
			and send_true =#{sendTrue}
		</if>
		 <if test="newsGrade != null and newsGrade!=''">
			and news_grade = #{newsGrade}
		</if>
	</where>
	
		order by create_time desc
	</select>
	<select id="findbywhere" parameterType="cn.uce.suc.common.entity.Notice" resultType="cn.uce.suc.common.vo.NoticeVo">
		select <include refid="Base_Column_List" /> from t_suc_comm_notice <include refid="Base_Column_Where" />
	
	</select>
</mapper>